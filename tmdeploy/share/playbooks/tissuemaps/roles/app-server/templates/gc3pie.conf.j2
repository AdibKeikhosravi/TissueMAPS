[auth/noauth]
type=none

[auth/tmaps]
type=ssh
username=tmaps

[resource/localhost]
# change the following to `enabled=no` to quickly disable
enabled={{ (not cluster_mode)|lower }}
type=shellcmd
spooldir=/var/tmp
auth=noauth
transport=local
# where the GNU `time` command is located;
# the default is fine on almost any Linux distribution;
# you might need to change this for MacOSX
#time_cmd=/usr/bin/time
# max_cores sets a limit on the number of cuncurrently-running jobs
max_cores={{ tm_compute_cores }}
max_cores_per_job={{ tm_compute_cores }}
# adjust the following to match the features of your local computer
max_memory_per_core={{ tm_compute_memory }} MB
max_walltime=48 hours
architecture=x64_64
# When `override` is set to ``yes``, the shellcmd backend will try to
# discover the actual architecture, number of cores and the total
# memory of the machine and only use the values found on the
# configuration file as a fallback. Default for the `override` option
# is ``no``.
override={{ tm_compute_autodiscover }}

[resource/slurmtmaps]
enabled={{ cluster_mode|lower }}
type=slurm
transport=local
# Not used if transport != ssh
frontend=frontend001
auth=tmaps
architecture=x86_64
max_cores={{ tm_compute_cores * tm_compute_nodes }}
max_cores_per_job={{ tm_compute_cores }}
max_memory_per_core={{ tm_compute_memory * tm_compute_nodes }} MB
max_walltime=10 days

