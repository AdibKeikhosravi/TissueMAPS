#
# Control (auto)start of JupyterHub through `supervisor`
# (http://supervisord.org/)
#

[program:tm_jobdaemon]
command={{ tm_root }}/bin/tm_jobdaemon.sh
user={{ tm_user }}

# mark process as failed if it exits before this nr. of seconds
startsecs=30
stopwaitsecs=30

directory={{ tm_root }}
autostart=true
autorestart=true
startretries=1

redirect_stderr=true
stdout_logfile={{ tm_root }}/log/tm_jobdaemon.supervisord.log
