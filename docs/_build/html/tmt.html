<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>tmt package &mdash; TissueMAPS Toolbox 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/tm_favicon.png"/>
    <link rel="top" title="TissueMAPS Toolbox 0.1.0 documentation" href="index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tmt-package">
<h1>tmt package<a class="headerlink" href="#tmt-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="tmt.align.html">tmt.align package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tmt.align.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.align.html#module-tmt.align.api">tmt.align.api module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.align.html#module-tmt.align.registration">tmt.align.registration module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.align.html#module-tmt.align">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tmt.corilla.html">tmt.corilla package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tmt.corilla.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.corilla.html#module-tmt.corilla.api">tmt.corilla.api module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.corilla.html#module-tmt.corilla.stats">tmt.corilla.stats module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.corilla.html#module-tmt.corilla">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tmt.dafu.html">tmt.dafu package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tmt.dafu.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.dafu.html#module-tmt.dafu.checkdata">tmt.dafu.checkdata module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.dafu.html#module-tmt.dafu.util">tmt.dafu.util module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.dafu.html#module-tmt.dafu">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tmt.illuminati.html">tmt.illuminati package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tmt.illuminati.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.illuminati.html#module-tmt.illuminati.api">tmt.illuminati.api module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.illuminati.html#module-tmt.illuminati.mosaic">tmt.illuminati.mosaic module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.illuminati.html#module-tmt.illuminati.segment">tmt.illuminati.segment module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.illuminati.html#module-tmt.illuminati">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tmt.visi.html">tmt.visi package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tmt.visi.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.visi.html#tmt-visi-api-module">tmt.visi.api module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.visi.html#module-tmt.visi.stk">tmt.visi.stk module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.visi.html#module-tmt.visi.stk2png">tmt.visi.stk2png module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.visi.html#module-tmt.visi.util">tmt.visi.util module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmt.visi.html#module-tmt.visi">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-tmt.cluster">
<span id="tmt-cluster-module"></span><h2>tmt.cluster module<a class="headerlink" href="#module-tmt.cluster" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="tmt.cluster.create_batches">
<code class="descclassname">tmt.cluster.</code><code class="descname">create_batches</code><span class="sig-paren">(</span><em>li</em>, <em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/cluster.html#create_batches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.cluster.create_batches" title="Permalink to this definition">¶</a></dt>
<dd><p>Separate a list into several n-sized sub-lists, i.e. batches.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>li</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; usually list of files</li>
<li><strong>n</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; batch size</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">batches</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">List[list]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tmt.cluster.create_timestamp">
<code class="descclassname">tmt.cluster.</code><code class="descname">create_timestamp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/cluster.html#create_timestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.cluster.create_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Create timestamp in the form &#8220;year-month-day_hour_minute_second&#8221;.
:returns: timestamp</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tmt.cluster.read_joblist">
<code class="descclassname">tmt.cluster.</code><code class="descname">read_joblist</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/cluster.html#read_joblist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.cluster.read_joblist" title="Permalink to this definition">¶</a></dt>
<dd><p>Read joblist to YAML file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; name of the YAML file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">job descriptions</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List[dict]</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">OSError</span></code> &#8211;
when <cite>filename</cite> does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tmt.cluster.write_joblist">
<code class="descclassname">tmt.cluster.</code><code class="descname">write_joblist</code><span class="sig-paren">(</span><em>filename</em>, <em>joblist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/cluster.html#write_joblist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.cluster.write_joblist" title="Permalink to this definition">¶</a></dt>
<dd><p>Write joblist to YAML file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; name of the YAML file</li>
<li><strong>joblist</strong> (<em>List[dict]</em>) &#8211; job descriptions</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-tmt.experiment">
<span id="tmt-experiment-module"></span><h2>tmt.experiment module<a class="headerlink" href="#module-tmt.experiment" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tmt.experiment.Experiment">
<em class="property">class </em><code class="descclassname">tmt.experiment.</code><code class="descname">Experiment</code><span class="sig-paren">(</span><em>experiment_dir</em>, <em>cfg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/experiment.html#Experiment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.experiment.Experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Utility class for an experiment.</p>
<p>An experiment may represent a &#8220;project&#8221; itself or it may contain one or
several subexperiments, each of them representing a &#8220;project&#8221;.</p>
<dl class="attribute">
<dt id="tmt.experiment.Experiment.data_filename">
<code class="descname">data_filename</code><a class="headerlink" href="#tmt.experiment.Experiment.data_filename" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to the HDF5 file holding the complete dataset
(see <cite>dafu</cite> package)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tmt.experiment.Experiment.is_valid_subexperiment">
<code class="descname">is_valid_subexperiment</code><span class="sig-paren">(</span><em>folder_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/experiment.html#Experiment.is_valid_subexperiment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.experiment.Experiment.is_valid_subexperiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a folder represents a valid subexperiment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.experiment.Experiment.project">
<code class="descname">project</code><a class="headerlink" href="#tmt.experiment.Experiment.project" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#tmt.project.Project" title="tmt.project.Project">Project</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.experiment.Experiment.subexperiments">
<code class="descname">subexperiments</code><a class="headerlink" href="#tmt.experiment.Experiment.subexperiments" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">List[Subexperiment]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></code> &#8211;
when there are no subexperiments</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tmt.experiment.Subexperiment">
<em class="property">class </em><code class="descclassname">tmt.experiment.</code><code class="descname">Subexperiment</code><span class="sig-paren">(</span><em>subexperiment_dir</em>, <em>cfg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/experiment.html#Subexperiment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.experiment.Subexperiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Utility class for a subexperiment.</p>
<p>A subexperiment represents a child folder of an experiment folder.
The class provides information on the subexperiment, such as its name,
cycle number, and parent experiment&#8217;s name.</p>
<dl class="attribute">
<dt id="tmt.experiment.Subexperiment.cycle">
<code class="descname">cycle</code><a class="headerlink" href="#tmt.experiment.Subexperiment.cycle" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">cycle number, determined from format string
provided in configuration settings</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
when cycle number cannot not be determined from format string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.experiment.Subexperiment.experiment">
<code class="descname">experiment</code><a class="headerlink" href="#tmt.experiment.Subexperiment.experiment" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">name of the corresponding parent experiment, determined from
format string provided in configuration settings</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
when the experiment name cannot not be determined from format string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.experiment.Subexperiment.project">
<code class="descname">project</code><a class="headerlink" href="#tmt.experiment.Subexperiment.project" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#tmt.project.Project" title="tmt.project.Project">Project</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tmt.illumstats">
<span id="tmt-illumstats-module"></span><h2>tmt.illumstats module<a class="headerlink" href="#module-tmt.illumstats" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tmt.illumstats.Illumstats">
<em class="property">class </em><code class="descclassname">tmt.illumstats.</code><code class="descname">Illumstats</code><span class="sig-paren">(</span><em>filename</em>, <em>cfg</em>, <em>matlab=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/illumstats.html#Illumstats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.illumstats.Illumstats" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Utility class for illumination correction statistics.</p>
<p>It provides the mean and standard deviation images and the channel number.
The statistics were calculated for each pixel position over all image sites
acquired in the same channel <a class="footnote-reference" href="#id2" id="id1">[1]</a>.</p>
<p class="rubric">References</p>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Stoeger T, Battich N, Herrmann MD, Yakimovich Y, Pelkmans L. 2015.
Computer vision for image-based transcriptomics. Methods.</td></tr>
</tbody>
</table>
<dl class="attribute">
<dt id="tmt.illumstats.Illumstats.channel">
<code class="descname">channel</code><a class="headerlink" href="#tmt.illumstats.Illumstats.channel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">channel number</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tmt.illumstats.Illumstats.correct">
<code class="descname">correct</code><span class="sig-paren">(</span><em>image</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/illumstats.html#Illumstats.correct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.illumstats.Illumstats.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct image for illumination artifacts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>image</strong> (<em>numpy.ndarray or Vips.Image</em>) &#8211; image that should be corrected</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">corrected image</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray or Vips.Image</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.illumstats.Illumstats.mean_image">
<code class="descname">mean_image</code><a class="headerlink" href="#tmt.illumstats.Illumstats.mean_image" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">image matrix of mean values at each pixel position
(statistic calculated at each pixel position over all image sites)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray[numpy.float64] or Vips.Image[Vips.BandFormat.DOUBLE]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.illumstats.Illumstats.std_image">
<code class="descname">std_image</code><a class="headerlink" href="#tmt.illumstats.Illumstats.std_image" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">image matrix of standard deviation values
(statistic calculated at each pixel position over all image sites)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray[numpy.float64] or Vips.Image[Vips.BandFormat.DOUBLE]</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="tmt.illumstats.illum_correct">
<code class="descclassname">tmt.illumstats.</code><code class="descname">illum_correct</code><span class="sig-paren">(</span><em>orig_image</em>, <em>mean_mat</em>, <em>std_mat</em>, <em>log_transform=True</em>, <em>smooth=False</em>, <em>sigma=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/illumstats.html#illum_correct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.illumstats.illum_correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct fluorescence microscopy image for illumination artifacts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>orig_image</strong> (<em>numpy.ndarray or Vips.Image</em>) &#8211; image that should be corrected</li>
<li><strong>mean_mat</strong> (<em>numpy.ndarray[numpy.float64] or Vips.Image[Vips.BandFormat.DOUBLE]</em>) &#8211; matrix of mean values (same dimensions as <cite>orig_image</cite>)</li>
<li><strong>std_mat</strong> (<em>numpy.ndarray[numpy.float64] or Vips.Image[Vips.BandFormat.DOUBLE]</em>) &#8211; matrix of standard deviation values (same dimensions as <cite>orig_image</cite>)</li>
<li><strong>log_transform</strong> (<em>bool, optional</em>) &#8211; log10 transform <cite>orig_image</cite> (defaults to True)</li>
<li><strong>smooth</strong> (<em>bool, optional</em>) &#8211; blur <cite>mean_mat</cite> and <cite>std_mat</cite> with a Gaussian filter (defaults to False)</li>
<li><strong>sigma</strong> (<em>int, optional</em>) &#8211; size of the standard deviation of the Gaussian kernel (defaults to 5)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">corrected image (same data type as <cite>orig_image</cite>)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray or Vips.Image</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#tmt.illumstats.illum_correct_numpy" title="tmt.illumstats.illum_correct_numpy"><code class="xref py py-func docutils literal"><span class="pre">illum_correct_numpy()</span></code></a>, <a class="reference internal" href="#tmt.illumstats.illum_correct_vips" title="tmt.illumstats.illum_correct_vips"><code class="xref py py-func docutils literal"><span class="pre">illum_correct_vips()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="tmt.illumstats.illum_correct_numpy">
<code class="descclassname">tmt.illumstats.</code><code class="descname">illum_correct_numpy</code><span class="sig-paren">(</span><em>orig_image</em>, <em>mean_mat</em>, <em>std_mat</em>, <em>log_transform=True</em>, <em>smooth=True</em>, <em>sigma=5</em>, <em>fix_pixels=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/illumstats.html#illum_correct_numpy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.illumstats.illum_correct_numpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct fluorescence microscopy image for illumination artifacts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>orig_image</strong> (<em>numpy.ndarray</em>) &#8211; image that should be corrected</li>
<li><strong>mean_mat</strong> (<em>numpy.ndarray[numpy.float64]</em>) &#8211; matrix of mean values (same dimensions as <cite>orig_image</cite>)</li>
<li><strong>std_mat</strong> (<em>numpy.ndarray[numpy.float64]</em>) &#8211; matrix of standard deviation values (same dimensions as <cite>orig_image</cite>)</li>
<li><strong>log_transform</strong> (<em>bool, optional</em>) &#8211; log10 transform <cite>orig_image</cite> (defaults to True)</li>
<li><strong>smooth</strong> (<em>bool, optional</em>) &#8211; blur <cite>mean_mat</cite> and <cite>std_mat</cite> with a Gaussian filter (defaults to False)</li>
<li><strong>sigma</strong> (<em>int, optional</em>) &#8211; size of the standard deviation of the Gaussian kernel (defaults to 5)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">corrected image (same data type as <cite>orig_image</cite>)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tmt.illumstats.illum_correct_vips">
<code class="descclassname">tmt.illumstats.</code><code class="descname">illum_correct_vips</code><span class="sig-paren">(</span><em>orig_image</em>, <em>mean_mat</em>, <em>std_mat</em>, <em>log_transform=True</em>, <em>smooth=False</em>, <em>sigma=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/illumstats.html#illum_correct_vips"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.illumstats.illum_correct_vips" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct fluorescence microscopy image for illumination artifacts
using the image processing library Vips.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>orig_image</strong> (<em>Vips.Image[Vips.BandFormat.USHORT]</em>) &#8211; image that should be corrected</li>
<li><strong>mean_mat</strong> (<em>Vips.Image[Vips.BandFormat.DOUBLE]</em>) &#8211; matrix of mean values (same dimensions as <cite>orig_image</cite>)</li>
<li><strong>std_mat</strong> (<em>Vips.Image[Vips.BandFormat.DOUBLE]</em>) &#8211; matrix of standard deviation values (same dimensions as <cite>orig_image</cite>)</li>
<li><strong>log_transform</strong> (<em>bool, optional</em>) &#8211; log10 transform <cite>orig_image</cite> (defaults to True)</li>
<li><strong>smooth</strong> (<em>bool, optional</em>) &#8211; blur <cite>mean_mat</cite> and <cite>std_mat</cite> with a Gaussian filter (defaults to False)</li>
<li><strong>sigma</strong> (<em>int, optional</em>) &#8211; size of the standard deviation of the Gaussian kernel (defaults to 5)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">corrected image (same data type as <cite>orig_image</cite>)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Vips.Image</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-tmt.image">
<span id="tmt-image-module"></span><h2>tmt.image module<a class="headerlink" href="#module-tmt.image" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tmt.image.Image">
<em class="property">class </em><code class="descclassname">tmt.image.</code><code class="descname">Image</code><span class="sig-paren">(</span><em>filename</em>, <em>cfg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/image.html#Image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.image.Image" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Utility class for images.</p>
<p>It provides the image itself and additional information derived
from the image filename, such as the position (row/column coordinates)
of the image within the total imaging acquisition grid, site number,
cycle number, and name of the corresponding experiment.</p>
<dl class="attribute">
<dt id="tmt.image.Image.coordinates">
<code class="descname">coordinates</code><a class="headerlink" href="#tmt.image.Image.coordinates" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">one-based row, column coordinates of an image
relative to the acquisition grid in 2D, determined from filename
using regular expression pattern provided in configuration settings</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Tuple[int]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
when coordinates cannot not be determined from filename</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.image.Image.cycle">
<code class="descname">cycle</code><a class="headerlink" href="#tmt.image.Image.cycle" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">one-based cycle number of an image, determined from filename
using regular expression pattern provided in configuration settings</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
when cycle number cannot not be determined from filename</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.image.Image.dimensions">
<code class="descname">dimensions</code><a class="headerlink" href="#tmt.image.Image.dimensions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">y, x dimensions (height, width) of the image</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Tuple[int]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.image.Image.experiment">
<code class="descname">experiment</code><a class="headerlink" href="#tmt.image.Image.experiment" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">experiment name, determined from filename
using regular expression pattern provided in configuration settings</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
when experiment name cannot not be determined from filename</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.image.Image.experiment_dir">
<code class="descname">experiment_dir</code><a class="headerlink" href="#tmt.image.Image.experiment_dir" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to experiment directory, determined from filename</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.image.Image.image">
<code class="descname">image</code><a class="headerlink" href="#tmt.image.Image.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Read image form file and return it as <cite>numpy</cite> array (default -
if vips set to False) or as <cite>Vips</cite> image (if vips set to True).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">image</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray or Vips.Image</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">OSError</span></code> &#8211;
when image file does not exist on disk</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.image.Image.indices">
<code class="descname">indices</code><a class="headerlink" href="#tmt.image.Image.indices" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">zero-based row, column coordinates of an image
relative to the acquisition grid in 2D, determined from filename
using regular expression pattern provided in configuration settings</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Tuple[int]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.image.Image.name">
<code class="descname">name</code><a class="headerlink" href="#tmt.image.Image.name" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">basename of the image file</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.image.Image.site">
<code class="descname">site</code><a class="headerlink" href="#tmt.image.Image.site" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">one-based site number of an image, determined from filename
using regular expression pattern provided in configuration settings</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
when site number cannot not be determined from filename</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tmt.image.IntensityImage">
<em class="property">class </em><code class="descclassname">tmt.image.</code><code class="descname">IntensityImage</code><span class="sig-paren">(</span><em>filename</em>, <em>cfg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/image.html#IntensityImage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.image.IntensityImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tmt.image.Image" title="tmt.image.Image"><code class="xref py py-class docutils literal"><span class="pre">tmt.image.Image</span></code></a></p>
<p>Utility class for an intensity image,
i.e. a two dimensional gray-scale image.</p>
<p>It provides the image itself (as type float)
and additional information derived from the image filename,
such as the channel number.</p>
<dl class="attribute">
<dt id="tmt.image.IntensityImage.channel">
<code class="descname">channel</code><a class="headerlink" href="#tmt.image.IntensityImage.channel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">channel number, determined from filename
using regular expression pattern provided in configuration settings</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
when channel number cannot be determined from filename</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tmt.image.MaskImage">
<em class="property">class </em><code class="descclassname">tmt.image.</code><code class="descname">MaskImage</code><span class="sig-paren">(</span><em>filename</em>, <em>cfg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/image.html#MaskImage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.image.MaskImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tmt.image.Image" title="tmt.image.Image"><code class="xref py py-class docutils literal"><span class="pre">tmt.image.Image</span></code></a></p>
<p>Utility class for a mask image,
i.e. a two dimensional labeled image that represents
segmented objects as a continuous region of identical pixel values &gt; 0.
The list of unique pixels values are also referred to as the objects IDs.</p>
<p>It provides the image itself and additional information derived
from the image filename, such as the name of objects encoded in the image
and their unique ids.</p>
<dl class="attribute">
<dt id="tmt.image.MaskImage.ids">
<code class="descname">ids</code><a class="headerlink" href="#tmt.image.MaskImage.ids" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><em>List[int]</em></li>
<li><em>unique ids of objects in the mask image</em></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.image.MaskImage.objects">
<code class="descname">objects</code><a class="headerlink" href="#tmt.image.MaskImage.objects" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">name of objects in the mask image, determined from filename
using regular expression pattern provided in configuration settings</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
when objects name cannot not be determined from filename</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="tmt.image.is_image_file">
<code class="descclassname">tmt.image.</code><code class="descname">is_image_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/image.html#is_image_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.image.is_image_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if filename ends with a supported file extension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; name of the image file</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-tmt.imageutil">
<span id="tmt-imageutil-module"></span><h2>tmt.imageutil module<a class="headerlink" href="#module-tmt.imageutil" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="tmt.imageutil.calc_threshold_level">
<code class="descclassname">tmt.imageutil.</code><code class="descname">calc_threshold_level</code><span class="sig-paren">(</span><em>sample_images</em>, <em>threshold_top_percent=0.1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/imageutil.html#calc_threshold_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.imageutil.calc_threshold_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate threshold level for a particular quantile across a set of
sample images.</p>
<p>A top threshold percentage of 0.1 would mean that 0.1% of the
pixels with the largest value should be set to their lowest value.</p>
<p>The quantile above <cite>threshold_top_percent</cite> pixels is computed for each
image in <cite>sample_images</cite> and then averaged.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sample_images</strong> (<em>List[Vips.Image[Vips.BandFormat.USHORT]]</em>) &#8211; images that are representative of the images that are to be thresholded</li>
<li><strong>threshold_top_percent</strong> (<em>float, optional</em>) &#8211; quantile (defaults to 0.1)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">threshold level</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tmt.imageutil.create_thresholding_LUT">
<code class="descclassname">tmt.imageutil.</code><code class="descname">create_thresholding_LUT</code><span class="sig-paren">(</span><em>avg_thresh</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/imageutil.html#create_thresholding_LUT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.imageutil.create_thresholding_LUT" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a 16 bit color lookup table that can be used to threshold images.</p>
<p>The computed lookup table will set any values above a threshold level
to that threshold level.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sample_images</strong> (<em>List[Vips.Image[Vips.BandFormat.USHORT]]</em>) &#8211; images that are representative of the images that are to be thresholded</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">LUT (= 1 x 2^16 pixel <cite>Vips</cite> image)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Vips.Image</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>The LUT can be used like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">lut</span> <span class="o">=</span> <span class="n">create_thresholding_LUT</span><span class="p">(</span><span class="n">some_images</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="n">thresholded_img</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">maplut</span><span class="p">(</span><span class="n">lut</span><span class="p">)</span>  <span class="c"># apply to some image</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="tmt.imageutil.find_border_objects">
<code class="descclassname">tmt.imageutil.</code><code class="descname">find_border_objects</code><span class="sig-paren">(</span><em>im</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/imageutil.html#find_border_objects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.imageutil.find_border_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a matrix of a site image, find the objects the border of the image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>im</strong> (<em>numpy.ndarray</em>) &#8211; image</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">1 if object represent a border object and 0 otherwise</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List[int]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tmt.imageutil.hist_sample_from_sites">
<code class="descclassname">tmt.imageutil.</code><code class="descname">hist_sample_from_sites</code><span class="sig-paren">(</span><em>filenames</em>, <em>nr_to_sample=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/imageutil.html#hist_sample_from_sites"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.imageutil.hist_sample_from_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute histogram for a set of sampled images.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filenames</strong> (<em>List[str]</em>) &#8211; names of image files</li>
<li><strong>nr_to_sample</strong> (<em>int, optional</em>) &#8211; number of images to sample (defaults to 5)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">values of the histogram averaged over the sampled images</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tmt.imageutil.np_array_to_vips_image">
<code class="descclassname">tmt.imageutil.</code><code class="descname">np_array_to_vips_image</code><span class="sig-paren">(</span><em>nparray</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/imageutil.html#np_array_to_vips_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.imageutil.np_array_to_vips_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a <cite>numpy</cite> array to a <cite>Vips</cite> image object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nparray</strong> (<em>numpy.ndarray</em>) &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Vips.image</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tmt.imageutil.save_hist_to_txt_file">
<code class="descclassname">tmt.imageutil.</code><code class="descname">save_hist_to_txt_file</code><span class="sig-paren">(</span><em>hist</em>, <em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/imageutil.html#save_hist_to_txt_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.imageutil.save_hist_to_txt_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tmt.imageutil.save_image">
<code class="descclassname">tmt.imageutil.</code><code class="descname">save_image</code><span class="sig-paren">(</span><em>im</em>, <em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/imageutil.html#save_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.imageutil.save_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Save image to file in 16-bit PNG format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>im</strong> (<em>numpy.ndarray or Vips.Image</em>) &#8211; image that should be saved</li>
<li><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; path to the image file</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tmt.imageutil.save_image_png_numpy">
<code class="descclassname">tmt.imageutil.</code><code class="descname">save_image_png_numpy</code><span class="sig-paren">(</span><em>im</em>, <em>filename</em>, <em>bitdepth=16</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/imageutil.html#save_image_png_numpy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.imageutil.save_image_png_numpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the <cite>numpy</cite> array to file as PNG image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>im</strong> (<em>numpy.ndarray</em>) &#8211; image</li>
<li><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; name of the output file</li>
<li><strong>bitdepth</strong> (<em>int, optional</em>) &#8211; bit depth of the PNG image (defaults to 16)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tmt.imageutil.save_image_png_vips">
<code class="descclassname">tmt.imageutil.</code><code class="descname">save_image_png_vips</code><span class="sig-paren">(</span><em>im</em>, <em>filename</em>, <em>bitdepth=16</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/imageutil.html#save_image_png_vips"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.imageutil.save_image_png_vips" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the <cite>Vips</cite> image object to file as PNG image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>im</strong> (<em>Vips.Image</em>) &#8211; image</li>
<li><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; name of the output file</li>
<li><strong>bitdepth</strong> (<em>int, optional</em>) &#8211; bit depth of the PNG image (defaults to 16)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tmt.imageutil.save_vips_image_jpg">
<code class="descclassname">tmt.imageutil.</code><code class="descname">save_vips_image_jpg</code><span class="sig-paren">(</span><em>im</em>, <em>filename</em>, <em>quality=75</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/imageutil.html#save_vips_image_jpg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.imageutil.save_vips_image_jpg" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a <cite>Vips</cite> image object to a file as JPEG image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>im</strong> (<em>Vips.Image</em>) &#8211; image</li>
<li><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; name of the output file</li>
<li><strong>quality</strong> (<em>int, optional</em>) &#8211; quality of the JPEG image (defaults to 75)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-tmt.project">
<span id="tmt-project-module"></span><h2>tmt.project module<a class="headerlink" href="#module-tmt.project" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tmt.project.Project">
<em class="property">class </em><code class="descclassname">tmt.project.</code><code class="descname">Project</code><span class="sig-paren">(</span><em>project_dir</em>, <em>cfg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/project.html#Project"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.project.Project" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Utility class for a project.</p>
<p>A project represents the directory that holds the image folder
and potentially additional folders for segmentation, shift, and
illumination statistics files.
The project folder may either correspond to an &#8220;experiment&#8221;
or a &#8220;subexperiment&#8221;.</p>
<dl class="attribute">
<dt id="tmt.project.Project.experiment">
<code class="descname">experiment</code><a class="headerlink" href="#tmt.project.Project.experiment" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">name of the experiment</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.project.Project.experiment_dir">
<code class="descname">experiment_dir</code><a class="headerlink" href="#tmt.project.Project.experiment_dir" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to experiment directory, determined from <cite>project_dir</cite></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">OSError</span></code> &#8211;
when determined directory does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.project.Project.image_dir">
<code class="descname">image_dir</code><a class="headerlink" href="#tmt.project.Project.image_dir" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to directory holding image files</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.project.Project.image_files">
<code class="descname">image_files</code><a class="headerlink" href="#tmt.project.Project.image_files" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">image files (intensity images)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">List[tmt.image.IntensityImage]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">OSError</span></code> &#8211;
when image directory does not exist</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">IOError</span></code> &#8211;
when no image files are found</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.project.Project.segmentation_dir">
<code class="descname">segmentation_dir</code><a class="headerlink" href="#tmt.project.Project.segmentation_dir" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to directory holding segmentation image files</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.project.Project.segmentation_files">
<code class="descname">segmentation_files</code><a class="headerlink" href="#tmt.project.Project.segmentation_files" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">segmentation image files (mask images)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">List[tmt.image.MaskImage]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">OSError</span></code> &#8211;
when segmentation directory does not exist</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">IOError</span></code> &#8211;
when no segmentation files are found</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.project.Project.shift_dir">
<code class="descname">shift_dir</code><a class="headerlink" href="#tmt.project.Project.shift_dir" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to directory holding shift descriptor files</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.project.Project.shift_file">
<code class="descname">shift_file</code><a class="headerlink" href="#tmt.project.Project.shift_file" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">description (content of a shift descriptor JSON file)
and filename</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#tmt.util.Namespacified" title="tmt.util.Namespacified">Namespacified</a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">OSError</span></code> &#8211;
when shift directory does not exist</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">IOError</span></code> &#8211;
when no shift descriptor file is found</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.project.Project.stats_dir">
<code class="descname">stats_dir</code><a class="headerlink" href="#tmt.project.Project.stats_dir" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to directory holding illumination statistic files</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.project.Project.stats_files">
<code class="descname">stats_files</code><a class="headerlink" href="#tmt.project.Project.stats_files" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">files containing calculated illumination statistics</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">List[tmt.illumstats.Illumstats]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">OSError</span></code> &#8211;
when stats directory does not exist</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">IOError</span></code> &#8211;
when no illumination statistic files are found</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.project.Project.subexperiment">
<code class="descname">subexperiment</code><a class="headerlink" href="#tmt.project.Project.subexperiment" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">name of the subexperiment
(empty string if the project is no subexperiment)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="tmt-setup-module">
<h2>tmt.setup module<a class="headerlink" href="#tmt-setup-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-tmt.shift">
<span id="tmt-shift-module"></span><h2>tmt.shift module<a class="headerlink" href="#module-tmt.shift" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tmt.shift.ShiftDescriptor">
<em class="property">class </em><code class="descclassname">tmt.shift.</code><code class="descname">ShiftDescriptor</code><span class="sig-paren">(</span><em>filename</em>, <em>cfg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/shift.html#ShiftDescriptor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.shift.ShiftDescriptor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Utility class for a shift descriptor.</p>
<p>A shift descriptor is file in JSON format, which holds calculated shift
values and additional metainformation.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><cite>tmt.corilla</cite> package</p>
</div>
<dl class="method">
<dt id="tmt.shift.ShiftDescriptor.align">
<code class="descname">align</code><span class="sig-paren">(</span><em>im</em>, <em>im_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/shift.html#ShiftDescriptor.align"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.shift.ShiftDescriptor.align" title="Permalink to this definition">¶</a></dt>
<dd><p>Align, i.e. shift and crop, an image based on calculated shift
and overlap values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>im</strong> (<em>numpy.ndarray or Vips.Image</em>) &#8211; input image that should be aligned</li>
<li><strong>im_name</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; name of the image file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">aligned image</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray or Vips.Image</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.shift.ShiftDescriptor.description">
<code class="descname">description</code><a class="headerlink" href="#tmt.shift.ShiftDescriptor.description" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">content of a JSON shift descriptor file
with the following name spaces:<div class="line-block">
<div class="line">xShift</div>
<div class="line">yShift</div>
<div class="line">fileName</div>
<div class="line">lowerOverlap</div>
<div class="line">upperOverlap</div>
<div class="line">rightOverlap</div>
<div class="line">leftOverlap</div>
<div class="line">maxShift</div>
<div class="line">noShiftIndex</div>
<div class="line">noShiftCount</div>
<div class="line">segmentationDir</div>
<div class="line">segmentationFilenameTrunk</div>
<div class="line">cycleNum</div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#tmt.util.Namespacified" title="tmt.util.Namespacified">Namespacified</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">IOError</span></code> &#8211;
when file is empty</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tmt.shift.ShiftDescriptor.required_keys">
<code class="descname">required_keys</code><a class="headerlink" href="#tmt.shift.ShiftDescriptor.required_keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="tmt.shift.load_shift_descriptor">
<code class="descclassname">tmt.shift.</code><code class="descname">load_shift_descriptor</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/shift.html#load_shift_descriptor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.shift.load_shift_descriptor" title="Permalink to this definition">¶</a></dt>
<dd><p>Load shift description from JSON file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; name of the shift descriptor file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">JSON content</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tmt.shift.shift_and_crop_image">
<code class="descclassname">tmt.shift.</code><code class="descname">shift_and_crop_image</code><span class="sig-paren">(</span><em>im</em>, <em>y</em>, <em>x</em>, <em>upper</em>, <em>lower</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/shift.html#shift_and_crop_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.shift.shift_and_crop_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift and crop an image according to the calculated values shift and
overlap values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>im</strong> (<em>numpy.ndarray</em>) &#8211; input image</li>
<li><strong>y</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; shift in y direction (positive value -&gt; down, negative value -&gt; up)</li>
<li><strong>x</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; shift in x direction (position value -&gt; right, negative value -&gt; left)</li>
<li><strong>upper</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; upper overlap - pixels cropped from the bottom</li>
<li><strong>lower</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; lower overlap - pixels cropped form the top</li>
<li><strong>left</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; left overlap - pixels cropped form the right</li>
<li><strong>right</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; right overlap - pixels cropped from the left</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">shifted and cropped image</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">numpy.array</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">IndexError</span></code> &#8211;
when shift or overlap values are too extreme</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">Exception</span></code> &#8211;
when it fails for unknown reasons</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-tmt.util">
<span id="tmt-util-module"></span><h2>tmt.util module<a class="headerlink" href="#module-tmt.util" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tmt.util.Namespacified">
<em class="property">class </em><code class="descclassname">tmt.util.</code><code class="descname">Namespacified</code><span class="sig-paren">(</span><em>adict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/util.html#Namespacified"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.util.Namespacified" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Class for loading key-value pairs of a dictionary into a Namespace object.</p>
</dd></dl>

<dl class="function">
<dt id="tmt.util.check_config">
<code class="descclassname">tmt.util.</code><code class="descname">check_config</code><span class="sig-paren">(</span><em>cfg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/util.html#check_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.util.check_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that configuration settings contains all required keys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cfg</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; configuration settings</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">KeyError</span></code> &#8211;
when a required key is missing</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tmt.util.load_config">
<code class="descclassname">tmt.util.</code><code class="descname">load_config</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/util.html#load_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.util.load_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Load configuration settings from YAML file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; name of the config file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">YAML content</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">OSError</span></code> &#8211;
when <cite>filename</cite> does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tmt.util.regex_from_format_string">
<code class="descclassname">tmt.util.</code><code class="descname">regex_from_format_string</code><span class="sig-paren">(</span><em>format_string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tmt/util.html#regex_from_format_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmt.util.regex_from_format_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a format string of the sort &#8220;{name}_bla/something_{number}&#8221;
to a named regular expression a la &#8220;P&lt;name&gt;.*_bla/something_P&lt;number&gt;d+&#8221;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>format_string</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Python format string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">named regular expression pattern</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-tmt">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-tmt" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/tm_logo.svg" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">tmt package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-tmt.cluster">tmt.cluster module</a></li>
<li><a class="reference internal" href="#module-tmt.experiment">tmt.experiment module</a></li>
<li><a class="reference internal" href="#module-tmt.illumstats">tmt.illumstats module</a></li>
<li><a class="reference internal" href="#module-tmt.image">tmt.image module</a></li>
<li><a class="reference internal" href="#module-tmt.imageutil">tmt.imageutil module</a></li>
<li><a class="reference internal" href="#module-tmt.project">tmt.project module</a></li>
<li><a class="reference internal" href="#tmt-setup-module">tmt.setup module</a></li>
<li><a class="reference internal" href="#module-tmt.shift">tmt.shift module</a></li>
<li><a class="reference internal" href="#module-tmt.util">tmt.util module</a></li>
<li><a class="reference internal" href="#module-tmt">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/tmt.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Markus D. Herrmann, Robin Hafen.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="_sources/tmt.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>