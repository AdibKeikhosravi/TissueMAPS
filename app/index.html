<!doctype html>
<html ng-app="tmaps">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>TissueMAPS</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">
  <link rel="shortcut icon" href="/resources/img/favicon.ico">

  <!-- ================================================================
       |                             JS                               |
       ================================================================ -->
  <script type="text/javascript" charset="utf-8">
      // There are some vector layer render issues when loading the page on a HighDPI
      // display like that of the MBP. In that case devicePixelRatio is set to 2, which will
      // cause the vectors to appear twice as large.
      // As a temp. workaround we set the pixelratio to 1 before openlayers is loaded.
      devicePixelRatio = 1;
  </script>
  <script src="libs.js" type="text/javascript" charset="utf-8"></script>
  <script src="script.js" type="text/javascript" charset="utf-8"></script>

  <!-- ================================================================
       |                             CSS                              |
       ================================================================ -->
  <link rel="stylesheet" href="style.css">

  <!-- ================================================================
       |                             DEV                              |
       ================================================================ -->
  <script src="//localhost:35729/livereload.js"></script>

</head>

<!-- Somehow the keyUp and keyDown events need to be on different elements (html and body in this case) in order for both of them to fire. -->
<!-- This wasn't a problem up until switching to the newest angular version. -->
<body>

  <div class="app"
        ng-controller="AppCtrl as appCtrl"
        ng-keydown="app.keyDown($event)"
        ng-keyup="app.keyUp($event)">

    <tm-appbar ng-show="appCtrl.isUserAuthenticated()"></tm-appbar>
     <!-- The main view holding the viewer, the setup window or the userpanel. -->
     <!-- Since the DOM of the viewers should not be reinserted by the UI router, its -->
     <!-- container div is made invisible using a onLeave-event instead of using ui-view. --> 
    <div class="main-window" id="viewer-window">
      <div ng-include="'/src/viewer/viewer-window.html'"></div>
    </div>
    <div class="main-window" ui-view="main-window"></div>
  </div>


  <!-- <div class="app"> -->
  <!--   <div class="top-container"> -->
  <!--     <ng-include src="'/templates/main/experiment/topbar.html'"></ng-include> -->
  <!--     <ng-include src="'/templates/main/experiment/tabbar.html'"></ng-include> -->
  <!--   </div> -->
  <!--   <div class="middle-container"> -->

  <!--   <div class="middle-container-center" ng-show="app.isViewportEmpty()"> -->
  <!--     <p> -->
  <!--       To add a new experiment, visit your userpanel by clicking on the <i class="fa fa-user"></i> icon in the top-left corner. -->
  <!--     </p> -->

  <!--     <p> -->
  <!--       Saving your work can be done via the <i class="fa fa-floppy-o"></i> icons. -->
  <!--     </p> -->

  <!--     <p> -->
  <!--       If you would like to share a snapshot of your work with somebody else, you just need to press the <i class="fa fa-globe"></i> icon. -->
  <!--     </p> -->
  <!--   </div> -->

  <!--   <1!-- The location where UI-router will insert content html like the user panel --1> -->
  <!--   <1!-- Where the instance viewports will be injected --1> -->
  <!--   <div id="viewports"></div> -->
  <!--   </div> -->
  <!-- </div> -->

</body>
</html>
