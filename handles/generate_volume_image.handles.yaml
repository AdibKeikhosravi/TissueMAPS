---
version: 0.0.2

input:

  - name: image
    type: IntensityImage
    key:
    help: >
      Grayscale image in which beads should be detected (3D).

  - name: mask
    type: LabelImage
    key:
    help: >
      Binary or labeled image of cell segmentation (2D).

  - name: threshold
    type: Numeric
    value: 150
    help: >
      Threshold for detection of bead intensity.

  - name: bead_area
    type: Numeric
    value: 2
    help: >
      Bead size in pixels (passed to detect_blobs)

  - name: plot
    type: Plot
    value: false
    help: Should a figure be created?

output:

  - name: volume_image
    type: IntensityImage
    key: generate_volume_image.volume_image
    help: >
      Image in which intensity represents the height (in z-slices)
      above the surface of the slide each point is.

  - name: figure
    type: Figure
    help: >
      "Maximum intensity projection" of beads and computed "slide
      surface". Also shows final volume image"

